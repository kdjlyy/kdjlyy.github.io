<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>PaperMod主题优化 | 向着悠远的苍穹</title>
<meta name="keywords" content="Hugo, PaperMod">
<meta name="description" content="PaperMod, 主题优化, 标签页面, MathJax, 自定义头部, 自定义字体, 卜算子, busuanzi, post_meta, 背景图片, 自动编号, utterances, 评论">
<meta name="author" content="
作者:&nbsp;kdjlyy">
<link rel="canonical" href="https://kdjlyy.github.io/posts/site/hugo-papermod-optimization/">

<link crossorigin="anonymous" href="/assets/css/stylesheet.c2f0e623e86eeca31ef4d93192e55ff58676853610c86e9ed2fb22b5ce7e6479.css" integrity="sha256-wvDmI&#43;hu7KMe9NkxkuVf9YZ2hTYQyG6e0vsitc5&#43;ZHk=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://kdjlyy.github.io/img/logo.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://kdjlyy.github.io/img/logo.ico">
<link rel="icon" type="image/png" sizes="32x32" href="https://kdjlyy.github.io/img/logo.ico">
<link rel="apple-touch-icon" href="https://kdjlyy.github.io/logo.ico">
<link rel="mask-icon" href="https://kdjlyy.github.io/logo.ico">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>


<script type="text/javascript" async
    src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
                processEscapes: true,
                processEnvironments: true,
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                TeX: {
                    equationNumbers: { autoNumber: "AMS" },
                    extensions: ["AMSmath.js", "AMSsymbols.js"]
                }
            },
            "HTML-CSS": {
                availableFonts: ["Arial", "TeX"],
                preferredFont: "TeX",
                webFont: "TeX"
            }
        });

        MathJax.Hub.Queue(function () {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for (i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

<style>
    code.has-jax {
        font: inherit;
        font-size: 100%;
        background: inherit;
        border: inherit;
        color: #515151;
    }
</style>


<html>

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css" />
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css" />
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css" />
    <style>
        body {
             
            font-family: "LXGW WenKai Lite", sans-serif;
             
            font-family: "LXGW WenKai Screen", sans-serif;
        }
    </style>
</head>

</html>



<script src="https://cdn.bootcdn.net/ajax/libs/mermaid/9.1.6/mermaid.min.js"></script>
<script>
    mermaid.initialize({
        startOnLoad: true,
        theme: localStorage.getItem("pref-theme") === "dark" ? "dark" : "forest" 
    });
</script>
<meta property="og:title" content="PaperMod主题优化" />
<meta property="og:description" content="PaperMod, 主题优化, 标签页面, MathJax, 自定义头部, 自定义字体, 卜算子, busuanzi, post_meta, 背景图片, 自动编号, utterances, 评论" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://kdjlyy.github.io/posts/site/hugo-papermod-optimization/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-31T16:26:23+08:00" />
<meta property="article:modified_time" content="2023-05-31T16:26:23+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="PaperMod主题优化"/>
<meta name="twitter:description" content="PaperMod, 主题优化, 标签页面, MathJax, 自定义头部, 自定义字体, 卜算子, busuanzi, post_meta, 背景图片, 自动编号, utterances, 评论"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "文章",
      "item": "https://kdjlyy.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "📋 建站",
      "item": "https://kdjlyy.github.io/posts/site/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "PaperMod主题优化",
      "item": "https://kdjlyy.github.io/posts/site/hugo-papermod-optimization/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "PaperMod主题优化",
  "name": "PaperMod主题优化",
  "description": "PaperMod, 主题优化, 标签页面, MathJax, 自定义头部, 自定义字体, 卜算子, busuanzi, post_meta, 背景图片, 自动编号, utterances, 评论",
  "keywords": [
    "Hugo", "PaperMod"
  ],
  "articleBody": "配置标签页面 PaperMod 主题是支持多语言的，但是标签页不支持，需要修改对应的 html 模板。\n主题提供的语言支持文件在themes/PaperMod/il8n里面，其中zh.yaml即简体中文。\n为了防止更新主题时还原修改过的文件，需要在网站根目录进行修改，这样可以覆盖主题原有文件的效果。在网站根目录新建i18n/文件夹，复制themes/PaperMod/i18n/zh.yaml到i18n/zh.yaml，并按需设置：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 - id: prev_page translation: \"上一页\" - id: next_page translation: \"下一页\" - id: read_time translation: one : \"1 分钟\" other: \"{{ .Count }} 分钟\" - id: words translation: one: \"字\" other: \"{{ .Count }} 字\" - id: toc translation: \"目录\" - id: translations translation: \"语言\" - id: home translation: \"主页\" - id: edit_post translation: \"编辑\" - id: code_copy translation: \"Copy\" - id: code_copied translation: \"Done\" 添加MathJax 创建themes/PaperMod/layouts/partials/mathjax.html，输入：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 \u003cscript type=\"text/javascript\" async src=\"https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML\"\u003e MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\\\\(', '\\\\)']], displayMath: [['$$', '$$'], ['\\[\\[', '\\]\\]']], processEscapes: true, processEnvironments: true, skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'], TeX: { equationNumbers: { autoNumber: \"AMS\" }, extensions: [\"AMSmath.js\", \"AMSsymbols.js\"] } }, \"HTML-CSS\": { availableFonts: [\"Arial\", \"TeX\"], preferredFont: \"TeX\", webFont: \"TeX\" } }); MathJax.Hub.Queue(function () { // Fix tags after MathJax finishes running. This is a // hack to overcome a shortcoming of Markdown. Discussion at // https://github.com/mojombo/jekyll/issues/199 var all = MathJax.Hub.getAllJax(), i; for (i = 0; i \u003c all.length; i += 1) { all[i].SourceElement().parentNode.className += ' has-jax'; } }); \u003c/script\u003e \u003cstyle\u003e code.has-jax { font: inherit; font-size: 100%; background: inherit; border: inherit; color: #515151; } \u003c/style\u003e 打开themes/PaperMod/layouts/partials/extend_head.html文件，添加如下内容：\n1 2 {{ partial \"mathjax.html\" . }} 下面是一个泰勒级数展开的例子：\n$$f(x) = f(a) + f’(a)(x-a) + \\frac{f’’(a)}{2!}(x-a)^2 + \\cdots + \\frac{f^{(n)}(a)}{n!}(x-a)^n + R_n(x)$$\n其中，$f(a)$表示在点$a$处的函数值，$f’(a)$表示在点$a$处的导数值，$f’’(a)$表示在点$a$处的二阶导数值，以此类推，$R_n(x)$为余项：$$R_n(x) = \\frac{f^{(n+1)}(c)}{(n+1)!}(x-a)^{n+1}$$\n自定义头部 Hugo 提供了一个默认的文章使用模板，位于archetypes/default.md，里面包括一些基本内容标题、日期以及是否为草稿。\n为方便写作，在文件夹 archetypes 中创建post.md 文件，并写入：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 --- title: \"{{ replace .Name \"-\" \" \" | title }}\" date: {{ .Date }} lastmod: {{ .Date }} author: [\"kdjlyy\"] summary: \"\" # 简单描述，会展示在主页，可被搜索 weight: # 输入1可以顶置文章 draft: false # 是否为草稿 comments: true # 是否开启评论 showToc: true # 显示目录 TocOpen: true # 自动展开目录 autonumbering: true # 目录自动编号 hidemeta: false # 是否隐藏文章的元信息，如发布日期、作者等 disableShare: true # 底部不显示分享栏 searchHidden: false # 该页面不能被搜索到 showbreadcrumbs: true # 顶部显示当前路径 mermaid: true # 是否开启mermaid cover: image: \"\" # 封面图片 hidden: true # 文章页面隐藏封面图片 tags: - tag 1 - tag 2 --- 根据定义好的模板，在此利用该模板生成关于页面，根目录执行执行命令：\n1 hugo new --kind post content/posts/tech/xx.md 自定义字体 本博客使用落霞孤鹜系列字体，正文使用 LXGW WenKai Lite 字体，代码块英文使用 JetBrains Mono 字体，中文使用 LXGW WenKai Screen 字体，公式使用 Arial 字体。\n打开themes/PaperMod/layouts/partials/extend_head.html文件，这个是会插入到 中间的内容，添加如下代码：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u003chtml\u003e \u003chead\u003e \u003clink rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css\" /\u003e \u003clink rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css\" /\u003e \u003clink rel=\"stylesheet\" href=\"https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css\" /\u003e \u003cstyle\u003e body { font-family: \"LXGW WenKai Lite\", sans-serif; font-family: \"LXGW WenKai Screen\", sans-serif; } \u003c/style\u003e \u003c/head\u003e \u003c/html\u003e 详细内容参考：https://github.com/lxgw/LxgwWenKai/issues/24\n打开themes/PaperMod/assets/css/extended/blank.css ，这个是可以自定义样式的地方，添加：\n1 2 3 4 5 6 7 8 9 /* ========== 正文字体：落霞孤鹜 ========== */ body { font-family: \"LXGW WenKai Lite\", sans-serif !important; } /* ========== 代码字体：JetBrains Mono ========== */ code { font-family: \"JetBrains Mono\", \"LXGW WenKai Screen\", \"LXGW WenKai Lite\", sans-serif; } 为了让 MathJax 公式更加美观，需要在themes/PaperMod/layouts/partials/mathjax.html文件的MathJax.Hub.Config配置中添加：\n1 2 3 4 5 \"HTML-CSS\": { availableFonts: [\"Arial\", \"TeX\"], preferredFont: \"TeX\", webFont: \"TeX\" } ​\t示例：$\\sum_{i=0}^N\\int_{a}^{b}g(t,i)\\text{d}t$\n添加busuanzi busuanzi 插件可以提供站点访问量和文章阅读数的计数服务，因为打开该功能会略微降低网站加载速度，所以默认关闭该功能。\n打开themes/PaperMod/layouts/partials/head.html，在{{- /* Styles */}}这一行前面添加如下代码：\n1 2 3 4 5 {{- if site.Params.busuanzi.enable -}} \u003cscript async src=\"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js\"\u003e\u003c/script\u003e \u003cmeta name=\"referrer\" content=\"no-referrer-when-downgrade\"\u003e {{- end }} 在站点底部显示总访问量与访客数，打开footer.html一般和head.html同目录，添加如下代码，注意添加在代码块里：\n1 2 3 4 5 6 7 8 9 10 11 {{ if .Site.Params.busuanzi.enable -}} \u003cdiv class=\"busuanzi-footer\"\u003e \u003cspan id=\"busuanzi_container_site_pv\"\u003e 本站总访问量\u003cspan id=\"busuanzi_value_site_pv\"\u003e\u003c/span\u003e次 \u003c/span\u003e \u003cspan id=\"busuanzi_container_site_uv\"\u003e 本站访客数\u003cspan id=\"busuanzi_value_site_uv\"\u003e\u003c/span\u003e人次 \u003c/span\u003e \u003c/div\u003e {{- end -}} 用于显示每篇文章阅读量，在themes/PaperMod/layouts/_default/single.html，一样注意加在代码块内：\n1 2 3 4 5 6 {{ if .Site.Params.busuanzi.enable -}} \u003cdiv class=\"meta-item\"\u003e\u0026nbsp·\u0026nbsp \u003cspan id=\"busuanzi_container_page_pv\"\u003e本文阅读量\u003cspan id=\"busuanzi_value_page_pv\"\u003e\u003c/span\u003e次\u003c/span\u003e \u003c/div\u003e {{- end }} 回到根目录改config.yml，在params里加上两行：\n1 2 3 params: busuanzi: enable: true 修改post_meta头部信息 post_meta 样式 定位到文件：themes/PaperMod/layouts/partials/post_meta.html，替换如下代码\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 {{- $scratch := newScratch }} {{- if not .Date.IsZero -}} {{- $scratch.Add \"meta\" (slice (printf \"创建:\u0026nbsp;\u003cspan title='%s'\u003e%s\u003c/span\u003e\" (.Date) (.Date.Format (default \"January 2, 2006\" .Site.Params.DateFormat)))) }} {{- end }} {{- if (.Param \"ShowLastMod\") -}} {{- $scratch.Add \"meta\" (slice (printf \"更新:\u0026nbsp;%s\" (.Lastmod.Format (.Site.Params.dateFormat | default \"2006-01-02\")))) }} {{- end }} {{- if (.Param \"ShowWordCounts\") -}} {{- $scratch.Add \"meta\" (slice (default (printf \"字数:\u0026nbsp;%d字\" .WordCount))) }} {{- end }} {{- if (.Param \"ShowReadingTime\") -}} {{- $scratch.Add \"meta\" (slice (default (printf \"时长: %d分钟\" .ReadingTime))) }} {{- end }} {{- with (partial \"author.html\" .) }} {{- $scratch.Add \"meta\" (slice .) }} {{- end }} {{- with ($scratch.Get \"meta\") }} {{- delimit . \"\u0026nbsp;|\u0026nbsp;\" -}} {{- end -}} 作者的中文显示要找themes/PaperMod/layouts/partials/author.html，设置如下：\n1 2 3 4 5 6 7 8 9 {{- if or .Params.author site.Params.author }} 作者:\u0026nbsp;{{- $author := (.Params.author | default site.Params.author) }} {{- $author_type := (printf \"%T\" $author) }} {{- if (or (eq $author_type \"[]string\") (eq $author_type \"[]interface {}\")) }} {{- (delimit $author \", \" ) }} {{- else }} {{- $author }} {{- end }} {{- end -}} 因为有些字段是自己加的，所以还要在config.yml文件的params字段下加上这些字段：\n1 2 3 4 5 params: DateFormat: \"2006-01-02\" ShowWordCounts: true ShowReadingTime: true ShowLastMod: true 在每篇文章开头记得加上“date”、“lastmod”、“author”这三个字段，已经集成在 archetypes/post.md 里面了，这样每次创建文章就会自动生成，生成文章的命令：\n1 hugo new --kind post content/posts/tech/xx.md 参考：Hugo博客修改post_meta头部信息\n添加背景图片 通过浏览器定位 html 代码，发现背景图片在 list 标签下，所以需要：\n打开themes/PaperMod/assets/css/extended/blank.css，添加如下代码：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 /* 主页背景图片 */ .list { /* 添加!important表示覆盖默认的设置 */ background-image: url(\"../../img/white_mountains.jpg\") !important; /* 照片不重复出现 */ background-repeat: no-repeat; /* 照片大小 */ background-size: 100% 100%; /* 右侧滚动时照片固定大小 */ background-attachment: fixed; } .dark.list { /* 添加!important表示覆盖默认的设置 */ background-image: url(\"../../img/white_mountains_dark.jpg\") !important; background-repeat: no-repeat; background-size: 100% 100%; background-attachment: fixed; } 这里我是将图片源文件放在public/img目录下，也可以使用 URL 的方式填写。\n文章自动编号 个人在写用 markdown 文章时一般用二级标题##开始，希望写文章时能有类似于 $LaTeX$ 的体验，这个在 Typora 中很容易实现，只需要添加对应的 css 样式即可，网络上很容易找到对应的教程。\n在 Hugo 的 PaperMod 主题中，以下操作可以实现目录和正文的自动编号：\n打开themes/PaperMod/layouts/_default/single.html文件，将\n1 \u003carticle class=\"post-single\"\u003e 替换为：\n1 \u003carticle class=\"post\" {{- if .Param \"autonumbering\" }} autonumbering {{- end }}\u003e 打开themes/PaperMod/assets/css/extended/blank.css，添加如下代码：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 /* ========= 文章和目录自动编号（从二级标题开始）============ */ body { counter-reset: h2 } h2 { counter-reset: h3 } h3 { counter-reset: h4 } h4 { counter-reset: h5 } article[autonumbering] h2:before { counter-increment: h2; content: counter(h2) \". \" } article[autonumbering] h3:before { counter-increment: h3; content: counter(h2) \".\" counter(h3) \" \" } article[autonumbering] h4:before { counter-increment: h4; content: counter(h2) \".\" counter(h3) \".\" counter(h4) \" \" } article[autonumbering] .toc ul { counter-reset: item } article[autonumbering] .toc li a:before { content: counters(item, \".\") \" \"; counter-increment: item } 在文章头部信息前面设置autonumbering: true即可完成正文和目录的自动编号功能。\n封面图片缩小并移到侧边 PaperMod 主题会因为插入了封面图片导致文章磁贴高度变大，达不到美观统一的要求，下面操作可以做到将封面图片缩小并移到右侧，效果如图：\n封面图片缩小并移到侧边 打开themes/PaperMod/layouts/_default/list.html，添加一个 class 标识，命名为post-info，把 entry-header 和 entry-content 和 entry-footer 都包裹进去，具体修改如下：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 \u003carticle class=\"{{ $class }}\"\u003e \u003cdiv class=\"post-info\"\u003e \u003cheader class=\"entry-header\"\u003e \u003ch2\u003e {{- .Title }} {{- if .Draft }}\u003csup\u003e\u003cspan class=\"entry-isdraft\"\u003e\u0026nbsp;\u0026nbsp;[draft]\u003c/span\u003e\u003c/sup\u003e {{- end }} \u003c/h2\u003e \u003c/header\u003e {{- if (ne (.Param \"hideSummary\") true) }} \u003cdiv class=\"entry-content\"\u003e \u003cp\u003e{{ .Summary | plainify | htmlUnescape }}{{ if .Truncated }}...{{ end }}\u003c/p\u003e \u003c/div\u003e {{- end }} {{- if not (.Param \"hideMeta\") }} \u003cfooter class=\"entry-footer\"\u003e {{- partial \"post_meta.html\" . -}} \u003c/footer\u003e {{- end }} \u003c/div\u003e {{- $isHidden := (.Site.Params.cover.hidden | default .Site.Params.cover.hiddenInList) }} {{- partial \"cover.html\" (dict \"cxt\" . \"IsHome\" true \"isHidden\" $isHidden) }} \u003ca class=\"entry-link\" aria-label=\"post link to {{ .Title | plainify }}\" href=\"{{ .Permalink }}\"\u003e\u003c/a\u003e \u003c/article\u003e 打开themes/PaperMod/assets/css/extended/blank.css，添加如下代码：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 /* 封面图片显示到右边 */ .entry-cover1 { border-radius: 10px; display: flex; justify-content: center; } .post-entry { display: flex; flex-direction: row; align-items: center; } .entry-cover { border-radius: 10px; overflow: hidden; width: 50%; margin-bottom: unset; max-height: 150px; display: grid; align-content: center; } .post-info { display: inline-block; overflow: hidden; width: 100%; padding-right: 10px; } /* 文章内使用的封面图 */ .entry-cover1 img { border-radius: var(--radius); pointer-events: none; width: 100%; height: auto; margin-bottom: 40px; } 因为上面对文章封面图片进行了调整，会影响到文章里面顶部的图片展示，所以需要解决冲突：\n定位到目录themes/PaperMod/layouts/partials/cover.html，在相同目录下创建一个名字为cover1.html的文件，并把cover.html里的文件复制一份一样的到cover1.html下；\n把cover1.html文件里的修改为；\n定位到themes/PaperMod/layouts/_default/single.html，把{{- partial \"cover.html\" (dict \"cxt\" . \"IsHome\" false \"isHidden\" $isHidden) }}改为{{- partial \"cover1.html\" (dict \"cxt\" . \"IsHome\" false \"isHidden\" $isHidden) }}，这样文章封面调用的是经过修改的图片，而文章里面顶部的图片调用的是未经修改的图片。\n如果只需要封面图片，但是不需要文章顶部的图片需要在写作时设置头部：\n1 2 3 cover: image: \"\" # 封面图片 hidden: true # 文章页面隐藏封面图片 添加utterances评论 utterances 是一款基于 GitHub issues 的评论工具，优点是极其轻量、加载非常快、配置比较简单。\n首先创建一个 Github 仓库保存个人博客的评论内容，例如：blog_comments；\n进入 utterances app 对自己所要保存评论的仓库授权；\n创建themes/PaperMod/layouts/partials/comments.html，输入：\n1 2 3 4 5 6 7 8 9 10 11 \u003cdiv\u003e \u003cdiv class=\"pagination__title\"\u003e \u003cspan class=\"pagination__title-h\" style=\"font-size: 20px;\"\u003e评论\u003c/span\u003e \u003cbr /\u003e \u003c/div\u003e \u003cdiv id=\"tcomment\"\u003e\u003c/div\u003e \u003cscript src=\"https://utteranc.es/client.js\" repo=\"GitHub仓库名称（如：kdjlyy/blog_comments）\" issue-term=\"title\" theme=\"github-light\" crossorigin=\"anonymous\" async\u003e \u003c/script\u003e \u003c/div\u003e 在博客配置文件config.yml中的params字段添加配置：\n1 2 3 4 5 utteranc: enable: true repo: \"kdjlyy/blog_comments\" issueTerm: \"title\" theme: \"github-light\" ",
  "wordCount" : "4957",
  "inLanguage": "zh",
  "datePublished": "2023-05-31T16:26:23+08:00",
  "dateModified": "2023-05-31T16:26:23+08:00",
  "author":[{
    "@type": "Person",
    "name": "kdjlyy"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://kdjlyy.github.io/posts/site/hugo-papermod-optimization/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "向着悠远的苍穹",
    "logo": {
      "@type": "ImageObject",
      "url": "https://kdjlyy.github.io/img/logo.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://kdjlyy.github.io" accesskey="h" title="向着悠远的苍穹 (Alt + H)">向着悠远的苍穹</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://kdjlyy.github.io/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://kdjlyy.github.io/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://kdjlyy.github.io/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://kdjlyy.github.io/archives" title="⏱️时间轴">
                    <span>⏱️时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://kdjlyy.github.io/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://kdjlyy.github.io/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post" autonumbering>
  
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://kdjlyy.github.io">主页</a>&nbsp;»&nbsp;<a href="https://kdjlyy.github.io/posts/">文章</a>&nbsp;»&nbsp;<a href="https://kdjlyy.github.io/posts/site/">📋 建站</a></div>
    <h1 class="post-title">
      PaperMod主题优化
    </h1>
    <div class="post-meta">










创建:&nbsp;<span title='2023-05-31 16:26:23 +0800 CST'>2023-05-31</span>&nbsp;|&nbsp;更新:&nbsp;2023-05-31&nbsp;|&nbsp;字数:&nbsp;4957字&nbsp;|&nbsp;
作者:&nbsp;kdjlyy


      
    </div>
  </header> <aside id="toc-container" class="toc-container wide">
        <div class="toc">
            <details  open>
                <summary accesskey="c" title="(Alt + C)">
                    <span class="details">目录</span>
                </summary>

                <div class="inner"><ul>
                        <li>
                            <a href="#%e9%85%8d%e7%bd%ae%e6%a0%87%e7%ad%be%e9%a1%b5%e9%9d%a2" aria-label="配置标签页面">配置标签页面</a></li>
                        <li>
                            <a href="#%e6%b7%bb%e5%8a%a0mathjax" aria-label="添加MathJax">添加MathJax</a></li>
                        <li>
                            <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%a4%b4%e9%83%a8" aria-label="自定义头部">自定义头部</a></li>
                        <li>
                            <a href="#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%ad%97%e4%bd%93" aria-label="自定义字体">自定义字体</a></li>
                        <li>
                            <a href="#%e6%b7%bb%e5%8a%a0busuanzi" aria-label="添加busuanzi">添加busuanzi</a></li>
                        <li>
                            <a href="#%e4%bf%ae%e6%94%b9post_meta%e5%a4%b4%e9%83%a8%e4%bf%a1%e6%81%af" aria-label="修改post_meta头部信息">修改post_meta头部信息</a></li>
                        <li>
                            <a href="#%e6%b7%bb%e5%8a%a0%e8%83%8c%e6%99%af%e5%9b%be%e7%89%87" aria-label="添加背景图片">添加背景图片</a></li>
                        <li>
                            <a href="#%e6%96%87%e7%ab%a0%e8%87%aa%e5%8a%a8%e7%bc%96%e5%8f%b7" aria-label="文章自动编号">文章自动编号</a></li>
                        <li>
                            <a href="#%e5%b0%81%e9%9d%a2%e5%9b%be%e7%89%87%e7%bc%a9%e5%b0%8f%e5%b9%b6%e7%a7%bb%e5%88%b0%e4%be%a7%e8%be%b9" aria-label="封面图片缩小并移到侧边">封面图片缩小并移到侧边</a></li>
                        <li>
                            <a href="#%e6%b7%bb%e5%8a%a0utterances%e8%af%84%e8%ae%ba" aria-label="添加utterances评论">添加utterances评论</a>
                        </li>
                    </ul>
                </div>
            </details>
        </div>
    </aside>
    <script>
        let activeElement;
        let elements;
        window.addEventListener('DOMContentLoaded', function (event) {
            checkTocPosition();

            elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
            
            activeElement = elements[0];
            const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
            document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
        }, false);

        window.addEventListener('resize', function (event) {
            checkTocPosition();
        }, false);

        window.addEventListener('scroll', () => {
            
            activeElement = Array.from(elements).find((element) => {
                if ((getOffsetTop(element) - window.pageYOffset) > 0 &&
                    (getOffsetTop(element) - window.pageYOffset) < window.innerHeight / 2) {
                    return element;
                }
            }) || activeElement

            elements.forEach(element => {
                const id = encodeURI(element.getAttribute('id')).toLowerCase();
                if (element === activeElement) {
                    document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
                } else {
                    document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
                }
            })
        }, false);

        const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
        const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
        const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

        function checkTocPosition() {
            const width = document.body.scrollWidth;

            if (width - main - (toc * 2) - (gap * 4) > 0) {
                document.getElementById("toc-container").classList.add("wide");
            } else {
                document.getElementById("toc-container").classList.remove("wide");
            }
        }

        function getOffsetTop(element) {
            if (!element.getClientRects().length) {
                return 0;
            }
            let rect = element.getBoundingClientRect();
            let win = element.ownerDocument.defaultView;
            return rect.top + win.pageYOffset;
        }
    </script>
  <div class="post-content"><h2 id="配置标签页面">配置标签页面<a hidden class="anchor" aria-hidden="true" href="#配置标签页面">#</a></h2>
<p>PaperMod 主题是支持多语言的，但是标签页不支持，需要修改对应的 html 模板。</p>
<p>主题提供的语言支持文件在<code>themes/PaperMod/il8n</code>里面，其中<code>zh.yaml</code>即简体中文。</p>
<p>为了防止更新主题时还原修改过的文件，需要在网站根目录进行修改，这样可以覆盖主题原有文件的效果。在网站根目录新建<code>i18n/</code>文件夹，复制<code>themes/PaperMod/i18n/zh.yaml</code>到<code>i18n/zh.yaml</code>，并按需设置：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#81a1c1">id</span><span style="color:#eceff4">:</span> prev_page
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">translation</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;上一页&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#81a1c1">id</span><span style="color:#eceff4">:</span> next_page
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">translation</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;下一页&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#81a1c1">id</span><span style="color:#eceff4">:</span> read_time
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">translation</span><span style="color:#eceff4">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">one </span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;1 分钟&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">other</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;{{ .Count }} 分钟&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#81a1c1">id</span><span style="color:#eceff4">:</span> words
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">translation</span><span style="color:#eceff4">:</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">one</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;字&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">other</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;{{ .Count }} 字&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#81a1c1">id</span><span style="color:#eceff4">:</span> toc
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">translation</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;目录&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#81a1c1">id</span><span style="color:#eceff4">:</span> translations
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">translation</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;语言&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#81a1c1">id</span><span style="color:#eceff4">:</span> home
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">translation</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;主页&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#81a1c1">id</span><span style="color:#eceff4">:</span> edit_post
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">translation</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;编辑&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#81a1c1">id</span><span style="color:#eceff4">:</span> code_copy
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">translation</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;Copy&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#81a1c1">id</span><span style="color:#eceff4">:</span> code_copied
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">translation</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;Done&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="添加mathjax">添加MathJax<a hidden class="anchor" aria-hidden="true" href="#添加mathjax">#</a></h2>
<ol>
<li>
<p>创建<code>themes/PaperMod/layouts/partials/mathjax.html</code>，输入：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">41
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">script</span> <span style="color:#8fbcbb">type</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;text/javascript&#34;</span> <span style="color:#8fbcbb">async</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8fbcbb">src</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>        MathJax<span style="color:#eceff4">.</span>Hub<span style="color:#eceff4">.</span>Config<span style="color:#eceff4">({</span>
</span></span><span style="display:flex;"><span>            tex2jax<span style="color:#81a1c1">:</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>                inlineMath<span style="color:#81a1c1">:</span> <span style="color:#eceff4">[[</span><span style="color:#a3be8c">&#39;$&#39;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#39;$&#39;</span><span style="color:#eceff4">],</span> <span style="color:#eceff4">[</span><span style="color:#a3be8c">&#39;\\(&#39;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#39;\\)&#39;</span><span style="color:#eceff4">]],</span>
</span></span><span style="display:flex;"><span>                displayMath<span style="color:#81a1c1">:</span> <span style="color:#eceff4">[[</span><span style="color:#a3be8c">&#39;$$&#39;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#39;$$&#39;</span><span style="color:#eceff4">],</span> <span style="color:#eceff4">[</span><span style="color:#a3be8c">&#39;\[\[&#39;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#39;\]\]&#39;</span><span style="color:#eceff4">]],</span>
</span></span><span style="display:flex;"><span>                processEscapes<span style="color:#81a1c1">:</span> <span style="color:#81a1c1;font-weight:bold">true</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>                processEnvironments<span style="color:#81a1c1">:</span> <span style="color:#81a1c1;font-weight:bold">true</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>                skipTags<span style="color:#81a1c1">:</span> <span style="color:#eceff4">[</span><span style="color:#a3be8c">&#39;script&#39;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#39;noscript&#39;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#39;style&#39;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#39;textarea&#39;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#39;pre&#39;</span><span style="color:#eceff4">],</span>
</span></span><span style="display:flex;"><span>                TeX<span style="color:#81a1c1">:</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>                    equationNumbers<span style="color:#81a1c1">:</span> <span style="color:#eceff4">{</span> autoNumber<span style="color:#81a1c1">:</span> <span style="color:#a3be8c">&#34;AMS&#34;</span> <span style="color:#eceff4">},</span>
</span></span><span style="display:flex;"><span>                    extensions<span style="color:#81a1c1">:</span> <span style="color:#eceff4">[</span><span style="color:#a3be8c">&#34;AMSmath.js&#34;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#34;AMSsymbols.js&#34;</span><span style="color:#eceff4">]</span>
</span></span><span style="display:flex;"><span>                <span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#eceff4">},</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a3be8c">&#34;HTML-CSS&#34;</span><span style="color:#81a1c1">:</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>                availableFonts<span style="color:#81a1c1">:</span> <span style="color:#eceff4">[</span><span style="color:#a3be8c">&#34;Arial&#34;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#34;TeX&#34;</span><span style="color:#eceff4">],</span>
</span></span><span style="display:flex;"><span>                preferredFont<span style="color:#81a1c1">:</span> <span style="color:#a3be8c">&#34;TeX&#34;</span><span style="color:#eceff4">,</span>
</span></span><span style="display:flex;"><span>                webFont<span style="color:#81a1c1">:</span> <span style="color:#a3be8c">&#34;TeX&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">});</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        MathJax<span style="color:#eceff4">.</span>Hub<span style="color:#eceff4">.</span>Queue<span style="color:#eceff4">(</span><span style="color:#81a1c1;font-weight:bold">function</span> <span style="color:#eceff4">()</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#616e87;font-style:italic">// Fix &lt;code&gt; tags after MathJax finishes running. This is a
</span></span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic"></span>            <span style="color:#616e87;font-style:italic">// hack to overcome a shortcoming of Markdown. Discussion at
</span></span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic"></span>            <span style="color:#616e87;font-style:italic">// https://github.com/mojombo/jekyll/issues/199
</span></span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic"></span>            <span style="color:#81a1c1;font-weight:bold">var</span> all <span style="color:#81a1c1">=</span> MathJax<span style="color:#eceff4">.</span>Hub<span style="color:#eceff4">.</span>getAllJax<span style="color:#eceff4">(),</span> i<span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1;font-weight:bold">for</span> <span style="color:#eceff4">(</span>i <span style="color:#81a1c1">=</span> <span style="color:#b48ead">0</span><span style="color:#eceff4">;</span> i <span style="color:#81a1c1">&lt;</span> all<span style="color:#eceff4">.</span>length<span style="color:#eceff4">;</span> i <span style="color:#81a1c1">+=</span> <span style="color:#b48ead">1</span><span style="color:#eceff4">)</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>                all<span style="color:#eceff4">[</span>i<span style="color:#eceff4">].</span>SourceElement<span style="color:#eceff4">().</span>parentNode<span style="color:#eceff4">.</span>className <span style="color:#81a1c1">+=</span> <span style="color:#a3be8c">&#39; has-jax&#39;</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">});</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">script</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">style</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">code</span><span style="color:#eceff4">.</span><span style="color:#8fbcbb">has-jax</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#81a1c1;font-weight:bold">font</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">inherit</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#81a1c1;font-weight:bold">font-size</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">100</span><span style="color:#81a1c1">%</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#81a1c1;font-weight:bold">background</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">inherit</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#81a1c1;font-weight:bold">border</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">inherit</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#81a1c1;font-weight:bold">color</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">#515151</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">style</span><span style="color:#eceff4">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>打开<code>themes/PaperMod/layouts/partials/extend_head.html</code>文件，添加如下内容：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- MathJax Support --&gt;</span>
</span></span><span style="display:flex;"><span>{{ partial &#34;mathjax.html&#34; . }}
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>下面是一个泰勒级数展开的例子：</p>
<p>$$f(x) = f(a) + f&rsquo;(a)(x-a) + \frac{f&rsquo;&rsquo;(a)}{2!}(x-a)^2 + \cdots + \frac{f^{(n)}(a)}{n!}(x-a)^n + R_n(x)$$</p>
<p>其中，$f(a)$表示在点$a$处的函数值，$f&rsquo;(a)$表示在点$a$处的导数值，$f&rsquo;&rsquo;(a)$表示在点$a$处的二阶导数值，以此类推，$R_n(x)$为余项：$$R_n(x) = \frac{f^{(n+1)}(c)}{(n+1)!}(x-a)^{n+1}$$</p>
<hr>
<h2 id="自定义头部">自定义头部<a hidden class="anchor" aria-hidden="true" href="#自定义头部">#</a></h2>
<p>Hugo 提供了一个默认的文章使用模板，位于<code>archetypes/default.md</code>，里面包括一些基本内容标题、日期以及是否为草稿。</p>
<p>为方便写作，在文件夹 <code>archetypes</code> 中创建<code>post.md</code> 文件，并写入：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#8fbcbb">---</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">title</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;{{ replace .Name &#34;</span>-<span style="color:#a3be8c">&#34; &#34;</span> <span style="color:#a3be8c">&#34; | title }}&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">date</span><span style="color:#eceff4">:</span> {{ .Date }}
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">lastmod</span><span style="color:#eceff4">:</span> {{ .Date }}
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">author</span><span style="color:#eceff4">:</span> <span style="color:#eceff4">[</span><span style="color:#a3be8c">&#34;kdjlyy&#34;</span><span style="color:#eceff4">]</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">summary</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;&#34;</span>             <span style="color:#616e87;font-style:italic"># 简单描述，会展示在主页，可被搜索</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">weight</span><span style="color:#eceff4">:</span>                 <span style="color:#616e87;font-style:italic"># 输入1可以顶置文章</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">draft</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">false</span>            <span style="color:#616e87;font-style:italic"># 是否为草稿</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">comments</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>          <span style="color:#616e87;font-style:italic"># 是否开启评论</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">showToc</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>           <span style="color:#616e87;font-style:italic"># 显示目录</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">TocOpen</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>           <span style="color:#616e87;font-style:italic"># 自动展开目录</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">autonumbering</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>     <span style="color:#616e87;font-style:italic"># 目录自动编号</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">hidemeta</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">false</span>         <span style="color:#616e87;font-style:italic"># 是否隐藏文章的元信息，如发布日期、作者等</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">disableShare</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>      <span style="color:#616e87;font-style:italic"># 底部不显示分享栏</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">searchHidden</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">false</span>     <span style="color:#616e87;font-style:italic"># 该页面不能被搜索到</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">showbreadcrumbs</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>   <span style="color:#616e87;font-style:italic"># 顶部显示当前路径</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">mermaid</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>           <span style="color:#616e87;font-style:italic"># 是否开启mermaid</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">cover</span><span style="color:#eceff4">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">image</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;&#34;</span>           <span style="color:#616e87;font-style:italic"># 封面图片</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">hidden</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>        <span style="color:#616e87;font-style:italic"># 文章页面隐藏封面图片</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">tags</span><span style="color:#eceff4">:</span>
</span></span><span style="display:flex;"><span>- tag 1
</span></span><span style="display:flex;"><span>- tag 2
</span></span><span style="display:flex;"><span><span style="color:#8fbcbb">---</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>根据定义好的模板，在此利用该模板生成关于页面，根目录执行执行命令：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new --kind post content/posts/tech/xx.md 
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h2 id="自定义字体">自定义字体<a hidden class="anchor" aria-hidden="true" href="#自定义字体">#</a></h2>
<p>本博客使用<a href="https://lxgw.github.io/">落霞孤鹜系列字体</a>，正文使用 LXGW WenKai Lite 字体，代码块英文使用 JetBrains Mono 字体，中文使用 LXGW WenKai Screen 字体，公式使用 Arial 字体。</p>
<ol>
<li>
<p>打开<code>themes/PaperMod/layouts/partials/extend_head.html</code>文件，这个是会插入到 <code>&lt;head&gt;&lt;/head&gt;</code> 中间的内容，添加如下代码：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- 文章字体设置 --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">html</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">head</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">link</span> <span style="color:#8fbcbb">rel</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;stylesheet&#34;</span> <span style="color:#8fbcbb">href</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css&#34;</span> <span style="color:#eceff4">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">link</span> <span style="color:#8fbcbb">rel</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;stylesheet&#34;</span> <span style="color:#8fbcbb">href</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css&#34;</span> <span style="color:#eceff4">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">link</span> <span style="color:#8fbcbb">rel</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;stylesheet&#34;</span> <span style="color:#8fbcbb">href</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.6.0/style.css&#34;</span> <span style="color:#eceff4">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">style</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#81a1c1">body</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1;font-weight:bold">font-family</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;LXGW WenKai Lite&#34;</span><span style="color:#eceff4">,</span> <span style="color:#81a1c1;font-weight:bold">sans-serif</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#81a1c1;font-weight:bold">font-family</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;LXGW WenKai Screen&#34;</span><span style="color:#eceff4">,</span> <span style="color:#81a1c1;font-weight:bold">sans-serif</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">style</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">head</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">html</span><span style="color:#eceff4">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>详细内容参考：<a href="https://github.com/lxgw/LxgwWenKai/issues/24">https://github.com/lxgw/LxgwWenKai/issues/24</a></p>
</li>
<li>
<p>打开<code>themes/PaperMod/assets/css/extended/blank.css</code> ，这个是可以自定义样式的地方，添加：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">/* ========== 正文字体：落霞孤鹜 ========== */</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">body</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">font-family</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;LXGW WenKai Lite&#34;</span><span style="color:#eceff4">,</span> <span style="color:#81a1c1;font-weight:bold">sans-serif</span> <span style="color:#5e81ac;font-style:italic">!important</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">/* ========== 代码字体：JetBrains Mono ========== */</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">code</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">font-family</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;JetBrains Mono&#34;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#34;LXGW WenKai Screen&#34;</span><span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#34;LXGW WenKai Lite&#34;</span><span style="color:#eceff4">,</span> <span style="color:#81a1c1;font-weight:bold">sans-serif</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>为了让 MathJax 公式更加美观，需要在<code>themes/PaperMod/layouts/partials/mathjax.html</code>文件的<code>MathJax.Hub.Config</code>配置中添加：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&#34;HTML-CSS&#34;: {
</span></span><span style="display:flex;"><span>    availableFonts: [&#34;Arial&#34;, &#34;TeX&#34;],
</span></span><span style="display:flex;"><span>    preferredFont: &#34;TeX&#34;,
</span></span><span style="display:flex;"><span>    webFont: &#34;TeX&#34;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>​	  示例：$\sum_{i=0}^N\int_{a}^{b}g(t,i)\text{d}t$</p>
<hr>
<h2 id="添加busuanzi">添加busuanzi<a hidden class="anchor" aria-hidden="true" href="#添加busuanzi">#</a></h2>
<p>busuanzi 插件可以提供站点访问量和文章阅读数的计数服务，因为打开该功能会略微降低网站加载速度，所以默认关闭该功能。</p>
<ol>
<li>
<p>打开<code>themes/PaperMod/layouts/partials/head.html</code>，在<code>{{- /* Styles */}}</code>这一行前面添加如下代码：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- busuanzi --&gt;</span>
</span></span><span style="display:flex;"><span>{{- if site.Params.busuanzi.enable -}}
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">script</span> <span style="color:#8fbcbb">async</span> <span style="color:#8fbcbb">src</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&#34;</span><span style="color:#eceff4">&gt;&lt;/</span><span style="color:#81a1c1">script</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">meta</span> <span style="color:#8fbcbb">name</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;referrer&#34;</span> <span style="color:#8fbcbb">content</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;no-referrer-when-downgrade&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>{{- end }}
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>在站点底部显示总访问量与访客数，打开<code>footer.html</code>一般和<code>head.html</code>同目录，添加如下代码，注意添加在<code>&lt;footer&gt;</code>代码块里：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- busuanzi --&gt;</span>
</span></span><span style="display:flex;"><span>{{ if .Site.Params.busuanzi.enable -}}
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">div</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;busuanzi-footer&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">span</span> <span style="color:#8fbcbb">id</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;busuanzi_container_site_pv&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    本站总访问量<span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">span</span> <span style="color:#8fbcbb">id</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;busuanzi_value_site_pv&#34;</span><span style="color:#eceff4">&gt;&lt;/</span><span style="color:#81a1c1">span</span><span style="color:#eceff4">&gt;</span>次
</span></span><span style="display:flex;"><span>  <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">span</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">span</span> <span style="color:#8fbcbb">id</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;busuanzi_container_site_uv&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    本站访客数<span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">span</span> <span style="color:#8fbcbb">id</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;busuanzi_value_site_uv&#34;</span><span style="color:#eceff4">&gt;&lt;/</span><span style="color:#81a1c1">span</span><span style="color:#eceff4">&gt;</span>人次
</span></span><span style="display:flex;"><span>  <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">span</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">div</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>用于显示每篇文章阅读量，在<code>themes/PaperMod/layouts/_default/single.html</code>，一样注意加在<code>&lt;header&gt;</code>代码块内：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- busuanzi --&gt;</span>
</span></span><span style="display:flex;"><span>{{ if .Site.Params.busuanzi.enable -}}
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">div</span>  <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;meta-item&#34;</span><span style="color:#eceff4">&gt;</span><span style="color:#bf616a">&amp;</span>nbsp·<span style="color:#bf616a">&amp;</span>nbsp
</span></span><span style="display:flex;"><span>  <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">span</span> <span style="color:#8fbcbb">id</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;busuanzi_container_page_pv&#34;</span><span style="color:#eceff4">&gt;</span>本文阅读量<span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">span</span> <span style="color:#8fbcbb">id</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;busuanzi_value_page_pv&#34;</span><span style="color:#eceff4">&gt;&lt;/</span><span style="color:#81a1c1">span</span><span style="color:#eceff4">&gt;</span>次<span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">span</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">div</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>{{- end }}
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>回到根目录改<code>config.yml</code>，在<code>params</code>里加上两行：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#81a1c1">params</span><span style="color:#eceff4">:</span>  
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">busuanzi</span><span style="color:#eceff4">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#81a1c1">enable</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<hr>
<h2 id="修改post_meta头部信息">修改post_meta头部信息<a hidden class="anchor" aria-hidden="true" href="#修改post_meta头部信息">#</a></h2>
<div style="text-align:center;">   <img style="display: block; margin: 0 auto;" src="https://s1.ax1x.com/2023/07/02/pCDDWBF.png" width="80%" height="80%" >   <span style="font-size: 14px; color: grey;">post_meta 样式</span> </div><br>
<p>定位到文件：<code>themes/PaperMod/layouts/partials/post_meta.html</code>，替换如下代码</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">30
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- $scratch := newScratch }}
</span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- 创建时间 --&gt;</span>
</span></span><span style="display:flex;"><span>{{- if not .Date.IsZero -}}
</span></span><span style="display:flex;"><span>{{- $scratch.Add &#34;meta&#34; (slice (printf &#34;创建:<span style="color:#d08770">&amp;nbsp;</span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">span</span> <span style="color:#8fbcbb">title</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#39;%s&#39;</span><span style="color:#eceff4">&gt;</span>%s<span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">span</span><span style="color:#eceff4">&gt;</span>&#34; (.Date) (.Date.Format (default &#34;January 2, 2006&#34; .Site.Params.DateFormat)))) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- 更新时间 --&gt;</span>
</span></span><span style="display:flex;"><span>{{- if (.Param &#34;ShowLastMod&#34;) -}}
</span></span><span style="display:flex;"><span>{{- $scratch.Add &#34;meta&#34; (slice (printf &#34;更新:<span style="color:#d08770">&amp;nbsp;</span>%s&#34; (.Lastmod.Format (.Site.Params.dateFormat | default &#34;2006-01-02&#34;)))) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- 统计字数 --&gt;</span>
</span></span><span style="display:flex;"><span>{{- if (.Param &#34;ShowWordCounts&#34;) -}}
</span></span><span style="display:flex;"><span>{{- $scratch.Add &#34;meta&#34; (slice (default (printf &#34;字数:<span style="color:#d08770">&amp;nbsp;</span>%d字&#34; .WordCount))) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- 大概需要花费的阅读时间 --&gt;</span>
</span></span><span style="display:flex;"><span>{{- if (.Param &#34;ShowReadingTime&#34;) -}}
</span></span><span style="display:flex;"><span>{{- $scratch.Add &#34;meta&#34; (slice (default (printf &#34;时长: %d分钟&#34; .ReadingTime))) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- 作者 --&gt;</span>
</span></span><span style="display:flex;"><span>{{- with (partial &#34;author.html&#34; .) }}
</span></span><span style="display:flex;"><span>{{- $scratch.Add &#34;meta&#34; (slice .) }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- 分隔方式 --&gt;</span>
</span></span><span style="display:flex;"><span>{{- with ($scratch.Get &#34;meta&#34;) }}
</span></span><span style="display:flex;"><span>{{- delimit . &#34;<span style="color:#d08770">&amp;nbsp;</span>|<span style="color:#d08770">&amp;nbsp;</span>&#34; -}}
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span></code></pre></td></tr></table>
</div>
</div><p>作者的中文显示要找<code>themes/PaperMod/layouts/partials/author.html</code>，设置如下：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- if or .Params.author site.Params.author }}
</span></span><span style="display:flex;"><span>作者:<span style="color:#d08770">&amp;nbsp;</span>{{- $author := (.Params.author | default site.Params.author) }}
</span></span><span style="display:flex;"><span>{{- $author_type := (printf &#34;%T&#34; $author) }}
</span></span><span style="display:flex;"><span>{{- if (or (eq $author_type &#34;[]string&#34;) (eq $author_type &#34;[]interface {}&#34;)) }}
</span></span><span style="display:flex;"><span>{{- (delimit $author &#34;, &#34; ) }}
</span></span><span style="display:flex;"><span>{{- else }}
</span></span><span style="display:flex;"><span>{{- $author }}
</span></span><span style="display:flex;"><span>{{- end }}
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span></code></pre></td></tr></table>
</div>
</div><p>因为有些字段是自己加的，所以还要在<code>config.yml</code>文件的<code>params</code>字段下加上这些字段：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#81a1c1">params</span><span style="color:#eceff4">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">DateFormat</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;2006-01-02&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">ShowWordCounts</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">ShowReadingTime</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">ShowLastMod</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>在每篇文章开头记得加上“date”、“lastmod”、“author”这三个字段，已经集成在 archetypes/post.md 里面了，这样每次创建文章就会自动生成，生成文章的命令：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>hugo new --kind post content/posts/tech/xx.md
</span></span></code></pre></td></tr></table>
</div>
</div><p>参考：<a href="https://www.sulvblog.cn/posts/blog/hugo_postmeta/">Hugo博客修改post_meta头部信息</a></p>
<hr>
<h2 id="添加背景图片">添加背景图片<a hidden class="anchor" aria-hidden="true" href="#添加背景图片">#</a></h2>
<p>通过浏览器定位 html 代码，发现背景图片在 list 标签下，所以需要：</p>
<ol>
<li>
<p>打开<code>themes/PaperMod/assets/css/extended/blank.css</code>，添加如下代码：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">/* 主页背景图片 */</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">.</span><span style="color:#8fbcbb">list</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#616e87;font-style:italic">/* 添加!important表示覆盖默认的设置 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">background-image</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1">url</span><span style="color:#eceff4">(</span><span style="color:#a3be8c">&#34;../../img/white_mountains.jpg&#34;</span><span style="color:#eceff4">)</span> <span style="color:#5e81ac;font-style:italic">!important</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#616e87;font-style:italic">/* 照片不重复出现 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">background-repeat</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">no-repeat</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#616e87;font-style:italic">/* 照片大小 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">background-size</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">100</span><span style="color:#81a1c1">%</span> <span style="color:#b48ead">100</span><span style="color:#81a1c1">%</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#616e87;font-style:italic">/* 右侧滚动时照片固定大小 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">background-attachment</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">fixed</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">.</span><span style="color:#8fbcbb">dark</span><span style="color:#eceff4">.</span><span style="color:#8fbcbb">list</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#616e87;font-style:italic">/* 添加!important表示覆盖默认的设置 */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">background-image</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1">url</span><span style="color:#eceff4">(</span><span style="color:#a3be8c">&#34;../../img/white_mountains_dark.jpg&#34;</span><span style="color:#eceff4">)</span> <span style="color:#5e81ac;font-style:italic">!important</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">background-repeat</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">no-repeat</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">background-size</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">100</span><span style="color:#81a1c1">%</span> <span style="color:#b48ead">100</span><span style="color:#81a1c1">%</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">background-attachment</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">fixed</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里我是将图片源文件放在<code>public/img</code>目录下，也可以使用 URL 的方式填写。</p>
</li>
</ol>
<hr>
<h2 id="文章自动编号">文章自动编号<a hidden class="anchor" aria-hidden="true" href="#文章自动编号">#</a></h2>
<p>个人在写用 markdown 文章时一般用二级标题<code>##</code>开始，希望写文章时能有类似于 $LaTeX$ 的体验，这个在 Typora 中很容易实现，只需要添加对应的 css 样式即可，网络上很容易找到对应的教程。</p>
<p>在 Hugo 的 PaperMod 主题中，以下操作可以实现目录和正文的自动编号：</p>
<ol>
<li>
<p>打开<code>themes/PaperMod/layouts/_default/single.html</code>文件，将</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">article</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;post-single&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>替换为：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">article</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;post&#34;</span> <span style="color:#bf616a">{{</span><span style="color:#8fbcbb">-</span> <span style="color:#8fbcbb">if</span> <span style="color:#bf616a">.</span><span style="color:#8fbcbb">Param</span> <span style="color:#bf616a">&#34;</span><span style="color:#8fbcbb">autonumbering</span><span style="color:#bf616a">&#34;</span> <span style="color:#bf616a">}}</span> <span style="color:#8fbcbb">autonumbering</span> <span style="color:#bf616a">{{</span><span style="color:#8fbcbb">-</span> <span style="color:#8fbcbb">end</span> <span style="color:#bf616a">}}</span><span style="color:#eceff4">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>打开<code>themes/PaperMod/assets/css/extended/blank.css</code>，添加如下代码：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">40
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">/* ========= 文章和目录自动编号（从二级标题开始）============ */</span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">body</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">counter-reset</span><span style="color:#eceff4">:</span> h2
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">h2</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">counter-reset</span><span style="color:#eceff4">:</span> h3
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">h3</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">counter-reset</span><span style="color:#eceff4">:</span> h4
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">h4</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">counter-reset</span><span style="color:#eceff4">:</span> h5
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">article</span><span style="color:#81a1c1">[</span><span style="color:#81a1c1">autonumbering</span><span style="color:#81a1c1">]</span> <span style="color:#81a1c1">h2</span><span style="color:#eceff4">:</span><span style="color:#d08770">before</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">counter-increment</span><span style="color:#eceff4">:</span> h2<span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">content</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1">counter</span><span style="color:#eceff4">(</span>h2<span style="color:#eceff4">)</span> <span style="color:#a3be8c">&#34;. &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">article</span><span style="color:#81a1c1">[</span><span style="color:#81a1c1">autonumbering</span><span style="color:#81a1c1">]</span> <span style="color:#81a1c1">h3</span><span style="color:#eceff4">:</span><span style="color:#d08770">before</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">counter-increment</span><span style="color:#eceff4">:</span> h3<span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">content</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1">counter</span><span style="color:#eceff4">(</span>h2<span style="color:#eceff4">)</span> <span style="color:#a3be8c">&#34;.&#34;</span> <span style="color:#81a1c1">counter</span><span style="color:#eceff4">(</span>h3<span style="color:#eceff4">)</span> <span style="color:#a3be8c">&#34; &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">article</span><span style="color:#81a1c1">[</span><span style="color:#81a1c1">autonumbering</span><span style="color:#81a1c1">]</span> <span style="color:#81a1c1">h4</span><span style="color:#eceff4">:</span><span style="color:#d08770">before</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">counter-increment</span><span style="color:#eceff4">:</span> h4<span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">content</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1">counter</span><span style="color:#eceff4">(</span>h2<span style="color:#eceff4">)</span> <span style="color:#a3be8c">&#34;.&#34;</span> <span style="color:#81a1c1">counter</span><span style="color:#eceff4">(</span>h3<span style="color:#eceff4">)</span> <span style="color:#a3be8c">&#34;.&#34;</span> <span style="color:#81a1c1">counter</span><span style="color:#eceff4">(</span>h4<span style="color:#eceff4">)</span> <span style="color:#a3be8c">&#34; &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">article</span><span style="color:#81a1c1">[</span><span style="color:#81a1c1">autonumbering</span><span style="color:#81a1c1">]</span> <span style="color:#eceff4">.</span><span style="color:#8fbcbb">toc</span> <span style="color:#81a1c1">ul</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">counter-reset</span><span style="color:#eceff4">:</span> item
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#81a1c1">article</span><span style="color:#81a1c1">[</span><span style="color:#81a1c1">autonumbering</span><span style="color:#81a1c1">]</span> <span style="color:#eceff4">.</span><span style="color:#8fbcbb">toc</span> <span style="color:#81a1c1">li</span> <span style="color:#81a1c1">a</span><span style="color:#eceff4">:</span><span style="color:#d08770">before</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">content</span><span style="color:#eceff4">:</span> <span style="color:#88c0d0">counters</span><span style="color:#eceff4">(</span>item<span style="color:#eceff4">,</span> <span style="color:#a3be8c">&#34;.&#34;</span><span style="color:#eceff4">)</span> <span style="color:#a3be8c">&#34; &#34;</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">counter-increment</span><span style="color:#eceff4">:</span> item
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>   
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>在文章头部信息前面设置<code>autonumbering: true</code>即可完成正文和目录的自动编号功能。</p>
</li>
</ol>
<hr>
<h2 id="封面图片缩小并移到侧边">封面图片缩小并移到侧边<a hidden class="anchor" aria-hidden="true" href="#封面图片缩小并移到侧边">#</a></h2>
<p>PaperMod 主题会因为插入了封面图片导致文章磁贴高度变大，达不到美观统一的要求，下面操作可以做到将封面图片缩小并移到右侧，效果如图：</p>
<div style="text-align:center;">   <img style="display: block; margin: 0 auto;" src="https://s1.ax1x.com/2023/07/02/pCDD4AJ.png" width="80%" height="80%" >   <span style="font-size: 14px; color: grey;">封面图片缩小并移到侧边</span> </div>
<ol>
<li>
<p>打开<code>themes/PaperMod/layouts/_default/list.html</code>，添加一个 class 标识，命名为post-info，把 entry-header 和 entry-content 和 entry-footer 都包裹进去，具体修改如下：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">article</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;{{ $class }}&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#616e87;font-style:italic">&lt;!-- {{- $isHidden := (site.Params.cover.hidden | default site.Params.cover.hiddenInList) }}
</span></span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">  {{- partial &#34;cover.html&#34; (dict &#34;cxt&#34; . &#34;IsHome&#34; true &#34;isHidden&#34; $isHidden) }} --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">div</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;post-info&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">header</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;entry-header&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">h2</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>        {{- .Title }}
</span></span><span style="display:flex;"><span>        {{- if .Draft }}<span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">sup</span><span style="color:#eceff4">&gt;&lt;</span><span style="color:#81a1c1">span</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;entry-isdraft&#34;</span><span style="color:#eceff4">&gt;</span><span style="color:#d08770">&amp;nbsp;&amp;nbsp;</span>[draft]<span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">span</span><span style="color:#eceff4">&gt;&lt;/</span><span style="color:#81a1c1">sup</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>        {{- end }}
</span></span><span style="display:flex;"><span>      <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">h2</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">header</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    {{- if (ne (.Param &#34;hideSummary&#34;) true) }}
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">div</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;entry-content&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">p</span><span style="color:#eceff4">&gt;</span>{{ .Summary | plainify | htmlUnescape }}{{ if .Truncated }}...{{ end }}<span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">p</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">div</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    {{- end }}
</span></span><span style="display:flex;"><span>    {{- if not (.Param &#34;hideMeta&#34;) }}
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">footer</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;entry-footer&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>      {{- partial &#34;post_meta.html&#34; . -}}
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">footer</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    {{- end }}
</span></span><span style="display:flex;"><span>  <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">div</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>  {{- $isHidden := (.Site.Params.cover.hidden | default .Site.Params.cover.hiddenInList) }}
</span></span><span style="display:flex;"><span>  {{- partial &#34;cover.html&#34; (dict &#34;cxt&#34; . &#34;IsHome&#34; true &#34;isHidden&#34; $isHidden) }}
</span></span><span style="display:flex;"><span>  <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">a</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;entry-link&#34;</span> <span style="color:#8fbcbb">aria-label</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;post link to {{ .Title | plainify }}&#34;</span> <span style="color:#8fbcbb">href</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;{{ .Permalink }}&#34;</span><span style="color:#eceff4">&gt;&lt;/</span><span style="color:#81a1c1">a</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">article</span><span style="color:#eceff4">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>打开<code>themes/PaperMod/assets/css/extended/blank.css</code>，添加如下代码：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">39
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">/* 封面图片显示到右边 */</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">.</span><span style="color:#8fbcbb">entry-cover1</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">border-radius</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">10</span><span style="color:#81a1c1">px</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">display</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">flex</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">justify-content</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">center</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">.</span><span style="color:#8fbcbb">post-entry</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">display</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">flex</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">flex-direction</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">row</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">align-items</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">center</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">.</span><span style="color:#8fbcbb">entry-cover</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">border-radius</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">10</span><span style="color:#81a1c1">px</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">overflow</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">hidden</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">width</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">50</span><span style="color:#81a1c1">%</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">margin-bottom</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">unset</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">max-height</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">150</span><span style="color:#81a1c1">px</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">display</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">grid</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">align-content</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">center</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">.</span><span style="color:#8fbcbb">post-info</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">display</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">inline-block</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">overflow</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">hidden</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">width</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">100</span><span style="color:#81a1c1">%</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">padding-right</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">10</span><span style="color:#81a1c1">px</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">/* 文章内使用的封面图 */</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">.</span><span style="color:#8fbcbb">entry-cover1</span> <span style="color:#81a1c1">img</span> <span style="color:#eceff4">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">border-radius</span><span style="color:#eceff4">:</span> <span style="color:#88c0d0">var</span><span style="color:#eceff4">(</span><span style="color:#81a1c1">--</span>radius<span style="color:#eceff4">);</span>
</span></span><span style="display:flex;"><span>    pointer-events<span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">none</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">width</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">100</span><span style="color:#81a1c1">%</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">height</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">auto</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1;font-weight:bold">margin-bottom</span><span style="color:#eceff4">:</span> <span style="color:#b48ead">40</span><span style="color:#81a1c1">px</span><span style="color:#eceff4">;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>因为上面对文章封面图片进行了调整，会影响到文章里面顶部的图片展示，所以需要解决冲突：</p>
<ul>
<li>
<p>定位到目录<code>themes/PaperMod/layouts/partials/cover.html</code>，在相同目录下创建一个名字为<code>cover1.html</code>的文件，并把<code>cover.html</code>里的文件复制一份一样的到<code>cover1.html</code>下；</p>
</li>
<li>
<p>把<code>cover1.html</code>文件里的<code>&lt;figure class=&quot;entry-cover&quot;&gt;</code>修改为<code>&lt;figure class=&quot;entry-cover1&quot;&gt;</code>；</p>
</li>
<li>
<p>定位到<code>themes/PaperMod/layouts/_default/single.html</code>，把<code>{{- partial &quot;cover.html&quot; (dict &quot;cxt&quot; . &quot;IsHome&quot; false &quot;isHidden&quot; $isHidden) }}</code>改为<code>{{- partial &quot;cover1.html&quot; (dict &quot;cxt&quot; . &quot;IsHome&quot; false &quot;isHidden&quot; $isHidden) }}</code>，这样文章封面调用的是经过修改的图片，而文章里面顶部的图片调用的是未经修改的图片。</p>
<p>如果只需要封面图片，但是不需要文章顶部的图片需要在写作时设置头部：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#81a1c1">cover</span><span style="color:#eceff4">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">image</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;&#34;</span>           <span style="color:#616e87;font-style:italic"># 封面图片</span>
</span></span><span style="display:flex;"><span>    <span style="color:#81a1c1">hidden</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>        <span style="color:#616e87;font-style:italic"># 文章页面隐藏封面图片</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
</ol>
<hr>
<h2 id="添加utterances评论">添加utterances评论<a hidden class="anchor" aria-hidden="true" href="#添加utterances评论">#</a></h2>
<blockquote>
<p>utterances 是一款基于 GitHub issues 的评论工具，优点是极其轻量、加载非常快、配置比较简单。</p>
</blockquote>
<ol>
<li>
<p>首先创建一个 Github 仓库保存个人博客的评论内容，例如：blog_comments；</p>
</li>
<li>
<p>进入 <a href="https://github.com/apps/utterances"><strong>utterances app</strong></a> 对自己所要保存评论的仓库授权；</p>
</li>
<li>
<p>创建<code>themes/PaperMod/layouts/partials/comments.html</code>，输入：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#616e87;font-style:italic">&lt;!-- github comments --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">div</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">div</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;pagination__title&#34;</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">span</span> <span style="color:#8fbcbb">class</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;pagination__title-h&#34;</span> <span style="color:#8fbcbb">style</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;font-size: 20px;&#34;</span><span style="color:#eceff4">&gt;</span>评论<span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">span</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">br</span> <span style="color:#eceff4">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">div</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">div</span> <span style="color:#8fbcbb">id</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;tcomment&#34;</span><span style="color:#eceff4">&gt;&lt;/</span><span style="color:#81a1c1">div</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#eceff4">&lt;</span><span style="color:#81a1c1">script</span> <span style="color:#8fbcbb">src</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;https://utteranc.es/client.js&#34;</span> <span style="color:#8fbcbb">repo</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;GitHub仓库名称（如：kdjlyy/blog_comments）&#34;</span> <span style="color:#8fbcbb">issue-term</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;title&#34;</span> <span style="color:#8fbcbb">theme</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;github-light&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8fbcbb">crossorigin</span><span style="color:#81a1c1">=</span><span style="color:#a3be8c">&#34;anonymous&#34;</span> <span style="color:#8fbcbb">async</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">script</span><span style="color:#eceff4">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#eceff4">&lt;/</span><span style="color:#81a1c1">div</span><span style="color:#eceff4">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>在博客配置文件<code>config.yml</code>中的<code>params</code>字段添加配置：</p>
<div class="highlight"><div style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#6c6f74">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#81a1c1">utteranc</span><span style="color:#eceff4">:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">enable</span><span style="color:#eceff4">:</span> <span style="color:#81a1c1;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">repo</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;kdjlyy/blog_comments&#34;</span> 
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">issueTerm</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;title&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#81a1c1">theme</span><span style="color:#eceff4">:</span> <span style="color:#a3be8c">&#34;github-light&#34;</span>  
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://kdjlyy.github.io/tags/hugo/">Hugo</a></li>
      <li><a href="https://kdjlyy.github.io/tags/papermod/">PaperMod</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://kdjlyy.github.io/posts/site/ecs_deploy/">
    <span class="title">« 上一页</span>
    <br>
    <span>Hugo博客部署到云服务器</span>
  </a>
  <a class="next" href="https://kdjlyy.github.io/posts/site/hugo-papermod-configure/">
    <span class="title">下一页 »</span>
    <br>
    <span>Hugo主题配置及Github部署</span>
  </a>
</nav>

  </footer>
<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">评论</span>
        <br />
    </div>
    <div id="tcomment"></div>
    <script src="https://utteranc.es/client.js" repo="kdjlyy/blog_comments" issue-term="title" theme="github-light"
        crossorigin="anonymous" async>
        </script>
</div>
</article>
    </main>
    
<footer class="footer">
    <div class="busuanzi-footer">
        <span>&copy; 2023 <a href="https://kdjlyy.github.io">向着悠远的苍穹</a></span>
        <span>
            
            | <a href="https://beian.miit.gov.cn/" rel="noopener noreferrer" target="_blank">皖ICP备2023007581号</a>
            
            </span>
    </div>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'Copy';

        function copyingDone() {
            copybutton.innerHTML = 'Done';
            setTimeout(() => {
                copybutton.innerHTML = 'Copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script></body>

</html>
